(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{63:function(e,t,n){},65:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(5),c=n.n(a),i=(n(63),n(38)),l=n(36),o=n.n(l),u=n(43),j=n(44),d=n(45),h=n(56),b=n(54),x=(n(65),n(55)),O=n(2);function p(e){var t=e.text,n=e.highlight,r=t.toLocaleLowerCase().indexOf(n.toLocaleLowerCase());if(r<0)return Object(O.jsx)("span",{children:t},"hl");var s=t.substring(0,r),a=t.substring(r,r+n.length),c=t.substring(r+n.length,t.length);return s=s?Object(O.jsx)("span",{children:s},"m1"):null,a=a?Object(O.jsx)("span",{style:{borderRadius:"2px"},children:Object(O.jsx)("mark",{children:a})},"m2"):null,c=c?Object(O.jsx)("span",{children:c},"m3"):null,Object(O.jsxs)("span",{children:[s,a,c]},"hl")}var m=n(49),f=n.n(m),g=n(47),v=n.n(g),y=n(50),C=n.n(y),S=n(51),w=n.n(S),k=n(37),N=n.n(k),F=n(46),R=n(52),D=n.n(R),L=n(103),E=function(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),s=n[0],a=n[1],c=e.policy;return Object(O.jsxs)("article",{children:[Object(O.jsx)("div",{className:"name",children:c.name}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsxs)("aside",{children:[Object(O.jsxs)("a",{className:"text-smaller link",href:c.homepage,target:"_blank",rel:"noopener noreferrer",children:[Object(O.jsx)(v.a,{}),"Homepage"]}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a,{title:"Author",arrow:!0,children:c.author.homepage?Object(O.jsxs)("a",{className:"text-smaller link",href:c.author.homepage,target:"_blank",rel:"noopener noreferrer",children:[Object(O.jsx)(N.a,{}),c.author.name]}):Object(O.jsxs)("span",{className:"text-smaller not-a-real-link",children:[Object(O.jsx)(N.a,{}),c.author.name]})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),c.download.url?Object(O.jsxs)("a",{className:"text-smaller link download",href:c.download.url,rel:"noopener noreferrer",children:[Object(O.jsx)(f.a,{}),"Download Policy"]}):null,Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"not-a-real-link mutation",children:Object(O.jsx)(L.a,{arrow:!0,title:c.mutation?"Validation + Mutation Policy":"Validation Policy",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(C.a,{color:"primary"}),c.mutation?Object(O.jsx)(w.a,{color:"secondary"}):null]})})})]}),Object(O.jsx)("div",{className:"text-bigger",children:Object(O.jsx)(p,{text:c.description,highlight:e.descriptionCriteria})}),Object(O.jsx)("br",{}),c.download.registry?Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text-light text-tiny text-label",children:"REGISTRY\xa0"}),Object(O.jsx)("code",{className:"text-smaller",children:c.download.registry}),Object(O.jsx)(F.CopyToClipboard,{text:c.download.registry,onCopy:function(){return a(!0),void setTimeout((function(){a(!1)}),1500)},children:Object(O.jsx)(L.a,{title:s?"Copied!":"Copy registry",arrow:!0,children:Object(O.jsx)("button",{id:"copy-registry",className:"text-small button-link",children:Object(O.jsx)(D.a,{})})})})]}):null,Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text-light text-tiny text-label",children:"RESOURCES\xa0"}),c.resources.map((function(e){return Object(O.jsx)("span",{className:"badge resource text-smaller",children:e},c.name+"-"+e)}))]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"text-light text-tiny text-label",children:"KEYWORDS\xa0"}),c.keywords.map((function(e){return Object(O.jsx)("span",{className:"badge keyword text-smaller",children:e},c.name+"-"+e)}))]})]})]})},P=n(53),T=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).state={descriptionCriteria:"",dataSet:null,resourcesOptionsSelected:[]},r}return Object(d.a)(n,[{key:"componentWillMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/chimera-kube/policy-hub/main/policy-hub.json");case 2:return t=e.sent,e.t0=this,e.next=6,t.json();case 6:e.t1=e.sent,e.t2={dataSet:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDistinctSetOfResources",value:function(){if(!this.state.dataSet)return[];var e=[];return this.state.dataSet.forEach((function(t){var n;return e=(n=e).concat.apply(n,Object(i.a)(t.resources))})),Array.from(new Set(e))}},{key:"onResourcesFilterChange",value:function(e){this.setState({resourcesOptionsSelected:e})}},{key:"onDescriptionFilterChange",value:function(e){var t=e.target.value;this.setState({descriptionCriteria:t})}},{key:"filter",value:function(){var e=this,t=this.state.dataSet?this.state.dataSet.filter((function(t){return t.description.toLowerCase().includes(e.state.descriptionCriteria.toLowerCase())})):[];return t=this.state.resourcesOptionsSelected.length>0?t.filter((function(t){return e.state.resourcesOptionsSelected.map((function(e){return e.value})).every((function(e){return t.resources.includes(e)}))})):t}},{key:"render",value:function(){var e=this,t=[];return this.getDistinctSetOfResources().forEach((function(e){t=[].concat(Object(i.a)(t),[{value:e,label:e}])})),Object(O.jsxs)("div",{className:"Hub",children:[Object(O.jsxs)("header",{className:"Hub-header",children:[Object(O.jsx)("a",{href:"/policy-hub",className:"header-homepage",rel:"noopener noreferrer",children:"Policy Hub"}),Object(O.jsx)("input",{className:"filter-box",name:"filter-description",onChange:function(t){return e.onDescriptionFilterChange(t)},placeholder:"Filter by description"},"filter-description"),Object(O.jsx)("div",{className:"resources-select-container",children:Object(O.jsx)(P.a,{value:this.state.resourcesOptionsSelected,onChange:function(t){return e.onResourcesFilterChange(t)},options:t,isMulti:!0,placeholder:"Filter by resources"})})]}),Object(O.jsx)("section",{children:this.state.dataSet?this.filter().map((function(t){return Object(O.jsx)(E,{policy:t,descriptionCriteria:e.state.descriptionCriteria},t.name)})):Object(O.jsx)("div",{className:"loading",children:"Loading.."})})]})}}]),n}(r.Component),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),H()}},[[85,1,2]]]);
//# sourceMappingURL=main.6b1f96f1.chunk.js.map